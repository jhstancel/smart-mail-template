.intent-grid{ display:grid; gap:12px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); margin-top:12px; }
.intent-card{ position:relative; padding:14px; cursor:pointer; border-radius:16px;
  background:linear-gradient(180deg, var(--card-bg1), var(--card-bg2));
  border:1px solid var(--card-border); box-shadow: var(--shadow-1);
  transition: transform .35s cubic-bezier(.2,.7,.2,1), box-shadow .35s ease, border-color .25s ease, filter .25s ease;
  transform-origin:center; overflow:hidden; text-align:left; }
.intent-card:hover{ transform: translateY(-2px) scale(1.03); box-shadow: var(--shadow-2);
  border-color: color-mix(in srgb, var(--accent) 25%, transparent); filter: saturate(1.02); }
.intent-card.active{ transform: translateY(-1px) scale(1.01); box-shadow: var(--shadow-2);
  border-color: color-mix(in srgb, var(--accent) 25%, transparent); }
.intent-card.active::after{
  content:""; position:absolute; inset:0; border-radius:16px; pointer-events:none; padding:1px;
  background: linear-gradient(120deg, color-mix(in srgb, var(--accent) 0%, transparent) 0%, color-mix(in srgb, var(--accent) 65%, transparent) 12%, color-mix(in srgb, var(--accent) 0%, transparent) 30%) border-box;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude; animation: edgeGlide 3.6s linear infinite;
}
@keyframes edgeGlide{ 0%{ background-position:0% 0% } 100%{ background-position:200% 0% } }
.intent-name{ font-weight:800; margin:0 0 6px; letter-spacing:.2px; }
.intent-desc{ color:var(--muted); font-size:13px; }
.stage{ margin-top:16px; overflow:hidden; transition: height .45s ease, opacity .45s ease, margin .45s ease; }
.stage.hidden{ height:0; opacity:0; margin:0; }

/* My Templates search */
.ut-search{ margin:8px 0 10px; }
.ut-search input[type="search"]{
  width:100%;
  padding:8px 10px;
  border:1px solid var(--border);
  border-radius:8px;
  background:var(--surface-2);
  color:var(--fg);
  outline:none;
}
.ut-search input[type="search"]::placeholder{ color:var(--muted); }

/* Optional main-screen search bar container (inserted dynamically) */
#gridSearchWrap{ margin:8px 0 10px; }
#gridSearchInput{
  width:100%;
  padding:8px 10px;
  border:1px solid var(--border);
  border-radius:8px;
  background:var(--surface-2);
  color:var(--fg);
  outline:none;
}

/* My Templates export mode (inside Settings panel) */
#subUserTpls.ut-export-mode .tpl-card{
  outline: 2px dashed color-mix(in srgb, var(--accent) 50%, transparent);
  cursor: pointer;
  animation: utExportPulse 1.6s ease-in-out infinite;
}
#subUserTpls.ut-export-mode .tpl-card:hover{
  transform: translateY(-1px);
}
#subUserTpls.ut-export-mode .tpl-card.ut-picked{
  outline: 2px solid var(--accent);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 30%, transparent), var(--shadow-2);
  filter: saturate(1.05);
}
#subUserTpls.ut-export-mode .tpl-card .tpl-actions{
  display: none;
}
#subUserTpls.ut-export-mode #btnCancelUserTplExport{
  display: inline-block !important;
}

@keyframes utExportPulse{
  0%{ box-shadow: 0 0 0 0 color-mix(in srgb, var(--accent) 22%, transparent); }
  70%{ box-shadow: 0 0 0 6px transparent; }
  100%{ box-shadow: 0 0 0 0 transparent; }
}
/* Floating Trash Bin */
.floating-btn{
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 999;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface-2);
  color: var(--fg);
  box-shadow: var(--shadow-2);
  cursor: pointer;
}
.floating-btn:hover{ filter: brightness(1.05); }

/* Trash panel */
.trash-panel{
  position: fixed;
  right: 16px;
  bottom: 68px;
  width: 320px;
  max-height: 60vh;
  overflow: auto;
  z-index: 1000;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  box-shadow: var(--shadow-3);
  padding: 10px;
}
.trash-head{
  display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:8px;
}
.trash-title{ font-weight:600; }
.trash-actions .btn.small{ padding:4px 8px; font-size:12px; }
.trash-list{ display:flex; flex-direction:column; gap:6px; }
.trash-item{
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  border:1px solid var(--border); border-radius:8px; padding:8px;
  background: var(--surface-2);
}
.trash-item .meta{ display:flex; flex-direction:column; }
.trash-item .meta .label{ font-weight:600; }
.trash-item .meta .id{ font-size:12px; color:var(--muted); }
.trash-item .controls{ display:flex; gap:6px; }
.trash-empty{ color:var(--muted); font-size:13px; padding:8px; text-align:center; }
/* Wrap long names without pushing buttons off-screen */
.trash-item{ flex-wrap: wrap; }
.trash-item .meta{ min-width: 0; flex: 1 1 auto; }
.trash-item .meta .label{ word-break: break-word; }
.trash-item .controls{ flex: 0 0 auto; }

.tpl-card .tpl-main{ display:flex; gap:10px; align-items:flex-start; }
.tpl-card .tpl-title{ word-break: break-word; }
.tpl-card .tpl-desc{ word-break: break-word; }
/* Hide the Auto Detect intent card from the main grid for v1 */
.intent-card[data-intent="auto_detect"]{
  display: none !important;
}

