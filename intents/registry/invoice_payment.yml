id: invoice_payment
label: Invoice Payment
description: Notify or confirm payment for an invoice.

required: [invoiceNumber, amount, paymentDate, paymentMethod, customerName]
optional: [notes]

fieldTypes:
  invoiceNumber: string
  amount: string
  paymentDate: date
  paymentMethod: string
  customerName: string
  notes: longtext

hints:
  invoiceNumber: e.g., INV-4827
  amount: e.g., 420.00 USD
  paymentDate: mm/dd/yyyy
  paymentMethod: e.g., ACH, Check, Credit Card
  customerName: e.g., John Smith
  notes: Optional message or internal note

template:
  subject: "Payment Remittance â€“ Invoice {{ invoiceNumber }}"
  bodyPath: "templates/invoice_payment.txt"

autodetect:
  keywords: ["invoice", "payment", "paid", "remittance", "wire", "ach", "remit"]
  boosts:
    reply: 0.1
    containsPO: 0.03

tests:
  samples:
    - fields:
        invoiceNumber: "INV-4827"
        amount: "420.00 USD"
        paymentDate: "10/20/2025"
        paymentMethod: "ACH"
        customerName: "John Smith"
      expectSubjectContains: ["Payment Remittance", "INV-4827"]
      expectBodyContains: ["ACH", "420.00", "10/20/2025", "John"]

